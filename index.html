<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Trendolla Store — كابل 4×1</title>
<style>
:root{
--accent:#0f6cff;
--bg:#f6f8fb;
--card:#ffffff;
--muted:#6b7280;
--radius:12px;
font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
direction: rtl;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:#111;}
header{background:#fff;padding:12px 20px;box-shadow:0 6px 24px rgba(10,20,40,0.06);position:sticky;top:0;z-index:900}
.header-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:12px}
.brand{display:flex;align-items:center;gap:12px}
.brand img{width:56px;height:56px;object-fit:contain;border-radius:8px;background:#fff;padding:6px}
.store-name{font-size:18px;font-weight:800;letter-spacing:0.2px}
nav{margin-right:auto;display:flex;gap:10px;align-items:center}
.nav-btn{background:transparent;border:1px solid transparent;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700}
.nav-btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.container{max-width:1100px;margin:28px auto;padding:0 16px}
.grid{display:grid;grid-template-columns:1fr 380px;gap:20px;align-items:start}
.card{background:var(--card);border-radius:12px;box-shadow:0 8px 30px rgba(12,20,40,0.06);padding:18px}
/* product images area */
.product-img{width:100%;height:320px;border-radius:10px;background:linear-gradient(135deg,#e6efff,#f9fbff);display:flex;align-items:center;justify-content:center;gap:12px;padding:12px}
.product-img .img-wrap{flex:1;overflow:hidden;border-radius:10px;background:white;display:flex;align-items:center;justify-content:center;padding:8px;box-shadow:0 6px 20px rgba(12,20,40,0.04)}
.product-img img{max-width:100%;max-height:100%;object-fit:contain;display:block}
h1{margin:10px 0 8px 0;font-size:22px}
p.lead{margin:8px 0 18px;color:var(--muted)}
.price{font-size:26px;color:var(--accent);font-weight:800}
.badge-shiny{ display:inline-block;margin-top:8px;padding:10px 14px;border-radius:999px;font-weight:800; background:linear-gradient(90deg,#00c6ff,#0072ff);color:white;box-shadow:0 6px 30px rgba(0,114,255,0.25); letter-spacing:0.2px; }
.sub-info{margin-top:8px;font-weight:700;color:#0b5bd7}
.qty-row{display:flex;gap:8px;align-items:center;margin-top:12px}
.qty-row input{width:90px;padding:10px;border-radius:8px;border:1px solid #e6e9ef;text-align:center;font-weight:700}
button.primary{background:var(--accent);color:white;border:none;padding:12px 16px;border-radius:10px;font-weight:700;cursor:pointer}
button.ghost{background:transparent;border:1px solid #e6e9ef;padding:10px 12px;border-radius:10px;cursor:pointer}
label.small{display:block;margin-top:10px;font-size:13px;color:var(--muted)}
form .field{margin-top:10px}
input[type="text"], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef}
.note{font-size:13px;color:var(--muted);margin-top:10px}
.order-summary{background:#fbfdff;padding:12px;border-radius:10px;margin-top:12px;border:1px solid #eef6ff}
footer{max-width:1100px;margin:24px auto;padding:18px;text-align:center;color:var(--muted);font-size:14px}
/* chatbot */
.chat-button{ position:fixed;bottom:20px;left:20px;background:var(--accent);color:white;border:none; width:64px;height:64px;border-radius:50%;box-shadow:0 10px 30px rgba(15,108,255,0.25);cursor:pointer;font-weight:700;z-index:1000; display:flex;align-items:center;justify-content:center;font-size:22px; }
.chat-window{position:fixed;bottom:100px;left:20px;width:340px;border-radius:12px;background:white;box-shadow:0 20px 50px rgba(7,15,30,0.2);overflow:hidden;display:none;flex-direction:column;z-index:1000}
.chat-header{background:linear-gradient(90deg,var(--accent),#1a8cff);color:white;padding:12px;display:flex;align-items:center;gap:10px}
.chat-body{padding:12px;height:340px;overflow:auto;background:#fbfdff}
.msg{margin:8px 0;display:flex}
.msg.user{justify-content:flex-end}
.bubble{max-width:78%;padding:8px 12px;border-radius:12px;background:#e9f0ff;color:#05204a}
.bubble.user{background:var(--accent);color:white;border-radius:12px}
.chat-input{display:flex;padding:10px;border-top:1px solid #eef2f7}
.chat-input input{flex:1;border-radius:8px;border:1px solid #e6e9ef;padding:8px}
.chat-input button{margin-left:8px;border-radius:8px;padding:8px 10px;border:none;background:var(--accent);color:white}
/* responsive */
@media(max-width:980px){.grid{grid-template-columns:1fr;}.chat-window{left:12px;right:12px;width:auto}.product-img{height:260px;flex-direction:row}}
@media(max-width:620px){.brand img{width:48px;height:48px}.store-name{font-size:16px}.product-img{flex-direction:column;height:auto}}
/* shiny pulse for badge (subtle) */
@keyframes shinePulse {0%{transform:translateY(0)}50%{transform:translateY(-3px)}100%{transform:translateY(0)}}
.badge-shiny{animation:shinePulse 2s ease-in-out infinite}
</style>
</head>
<body>
<header>
<div class="header-inner">
<div class="brand">
<img src="hDFpI2Cc.jpg" alt="Trendolla Store Logo" onerror="this.style.display='none'"/>
<div>
<div class="store-name">Trendolla Store</div>
<div style="font-size:12px;color:var(--muted)">أفضل المنتجات اليومية</div>
</div>
</div>
<nav>
<button class="nav-btn primary" id="shopNowBtn">تسوق منتجات أخرى</button>
<button class="nav-btn" id="contactBtn">اطلب الآن</button>
</nav>
</div>
</header>
<main class="container">
<div class="grid" id="top">
<div>
<div class="card" id="productSection">
<div class="product-img" id="productImage">
<div class="img-wrap"><img src="PEPO.jpg" alt="كابل 4×1" onerror="this.style.display='none'"/></div>
<div class="img-wrap"><img src="PEPO2.jpeg" alt="كابل 4×1 - صورة 2" onerror="(function(el){el.onerror=null; el.src='PEPO2.jpeg';})(this)"/></div>
</div>
<h1>كابل 4×1 — كابل متعدد</h1>
<p class="lead">كابل عملي يدعم 4 رؤوس شحن لجميع الأجهزة: <br> • USB to Type-C &nbsp; • USB to IP &nbsp; • Type-C to Type-C &nbsp; • Type-C to IP </p>
<div class="badge-shiny">🚚 توصيل مجاني لجميع المحافظات</div>
<div class="sub-info">🎁 خصومات خاصة عند طلب أكثر من قطعة — 📦 متاح معاينة المنتج عند الاستلام</div>
<div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:12px">
<div>
<div class="price" id="display-price">السعر: 170 ج</div>
<div class="note">أسعار الكميات: 1→170, 2→290, 3→410, 4→530. الدفع عند الاستلام.</div>
</div>
</div>
<div class="qty-row" style="margin-top:14px">
<label style="font-weight:700">الكمية</label>
<input type="number" id="qty" min="1" value="1" />
<button class="ghost" id="add1">+</button>
<button class="ghost" id="sub1">-</button>
<div style="margin-left:auto">
<button class="primary" id="buyNow">اطلب الآن</button>
</div>
</div>
<div class="order-summary" id="price-breakdown">
<div>ملخص السعر: <span id="total-text">170 ج</span></div>
</div>
<div class="note">ملحوظة: الدفع عند الاستلام — سيطلب منك المندوب المبلغ عند التسليم.</div>
</div>
<div class="card" style="margin-top:16px">
<h3>تفاصيل المنتج</h3>
<ul>
<li>كابل 4 رؤوس متوافق مع معظم الأجهزة.</li>
<li>مادة متينة ومقاومة للتشابك.</li>
<li>طول مناسب للاستخدام اليومي والسيارة.</li>
<li>يدعم استخدام أكثر من جهاز في نفس الوقت.</li>
</ul>
</div>
</div>
<aside>
<div class="card" id="orderSection">
<h2>استمارة الطلب</h2>
<p class="small">املأ البيانات وسيتم تأكيد الطلب عبر الرقم</p>
<form id="orderForm">
<div class="field">
<label class="small">الاسم</label>
<input type="text" id="name" required placeholder="اسم العميل" />
</div>
<div class="field">
<label class="small">موبايل (أساسي)</label>
<input type="text" id="phone" required placeholder="01XXXXXXXXX" />
</div>
<div class="field">
<label class="small">موبايل إضافي (اختياري)</label>
<input type="text" id="phone2" placeholder="موبايل إضافي (اختياري)" />
</div>
<div class="field">
<label class="small">العنوان</label>
<textarea id="address" rows="3" placeholder="عنوان الاستلام"></textarea>
</div>
<div style="margin-top:12px;display:flex;gap:8px">
<button type="submit" class="primary" style="flex:1">تأكيد الطلب (دفع عند الاستلام)</button>
<button type="button" class="ghost" id="quickContact" style="width:140px">تواصل معنا</button>
</div>
</form>
<div id="orderResult" style="display:none;margin-top:12px"></div>
</div>
</aside>
</div>
</main>
<button class="chat-button" id="chatToggle" title="مساعد المحادثة">💬</button>
<div class="chat-window" id="chatWindow" role="dialog" aria-label="Chatbot">
<div class="chat-header">
<div style="font-weight:700">مساعد Trendolla</div>
<div style="margin-right:auto;font-size:13px;opacity:0.9">متوفر الآن</div>
</div>
<div class="chat-body" id="chatBody">
<div class="msg"><div class="bubble">أهلاً! أنا مساعد Trendolla — ازاي أقدر أساعدك؟ 👋</div></div>
</div>
<div class="chat-input">
<input id="chatInput" placeholder="اكتب سؤالك..." />
<button id="sendChat">إرسال</button>
</div>
</div>
<footer>
© <strong>Trendolla Store</strong> — جميع الحقوق محفوظة
</footer>

<script>
// ====== Pricing logic ======
const priceMap = {1:170,2:290,3:410,4:530};
const unitPrice = 170;
const qtyInput = document.getElementById('qty');
const displayPrice = document.getElementById('display-price');
const totalText = document.getElementById('total-text');

function calcPrice(q){ q=Number(q)||1; if(q<=0) return 0; if(priceMap[q]) return priceMap[q]; return q*unitPrice;}
function refreshUI(){ const q = Number(qtyInput.value)||1; const total = calcPrice(q); displayPrice.textContent = 'السعر: '+total+' ج'; totalText.textContent = total+' ج (الكمية: '+q+')';}

document.getElementById('add1').addEventListener('click', ()=>{ qtyInput.value=Number(qtyInput.value)+1; refreshUI(); document.getElementById('orderSection').scrollIntoView({behavior:'smooth', block:'center'}); });
document.getElementById('sub1').addEventListener('click', ()=>{ qtyInput.value=Math.max(1, Number(qtyInput.value)-1); refreshUI(); document.getElementById('orderSection').scrollIntoView({behavior:'smooth', block:'center'}); });
qtyInput.addEventListener('input', refreshUI);
refreshUI();

// Scroll buttons
document.getElementById('shopNowBtn').addEventListener('click', ()=>{
  window.open("https://whatsapp.com/channel/0029VbAxdH7K0IBaED4Nu53L","_blank");
});
document.getElementById('contactBtn').addEventListener('click', ()=>{
  document.getElementById('orderSection').scrollIntoView({behavior:'smooth', block:'center'});
  setTimeout(()=> document.getElementById('name').focus(), 450);
});
document.getElementById('buyNow').addEventListener('click', ()=>{
  document.getElementById('orderSection').scrollIntoView({behavior:'smooth', block:'center'});
  document.getElementById('name').focus();
});

// ====== Order form with WhatsApp (main number) ======
document.getElementById('orderForm').addEventListener('submit', function(e){
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const phone2 = document.getElementById('phone2').value.trim();
  const address = document.getElementById('address').value.trim();
  const qty = Number(qtyInput.value) || 1;
  const total = calcPrice(qty);
  if(!name || !phone){ alert('من فضلك اكتب الاسم ورقم الموبايل الأساسي.'); return; }

  const waNumber="201093931681";
  let message="طلب جديد من Trendolla Store:%0A";
  message+="الاسم: "+encodeURIComponent(name)+"%0A";
  message+="الموبايل: "+encodeURIComponent(phone)+"%0A";
  if(phone2) message+="موبايل إضافي: "+encodeURIComponent(phone2)+"%0A";
  message+="العنوان: "+encodeURIComponent(address||'غير مدخل')+"%0A";
  message+="الكمية: "+qty+"%0A";
  message+="الإجمالي: "+total+" ج%0A";
  message+="المنتج: كابل 4×1 — كابل متعدد";

  window.open(`https://wa.me/${waNumber}?text=${message}`,'_blank');

  const summary = `<div style="padding:12px;background:#f1f9ff;border-radius:8px">
<strong>تم استلام طلبك في Trendolla Store!</strong>
<div style="margin-top:8px">الاسم: ${escapeHtml(name)}</div>
<div>الموبايل: ${escapeHtml(phone)}</div>
${phone2?`<div>موبايل إضافي: ${escapeHtml(phone2)}</div>`:''}
<div>العنوان: ${escapeHtml(address||'غير مدخل')}</div>
<div>الكمية: ${qty}</div>
<div style="margin-top:6px;font-weight:700">الإجمالي: ${total} ج</div>
<div style="margin-top:8px;color:#374151">طريقة الدفع: دفع عند الاستلام</div>
<div style="margin-top:10px;color:#6b7280">سيتم التواصل معك لتأكيد الطلب خلال ساعات العمل.</div>
</div>`;

  const result=document.getElementById('orderResult');
  result.innerHTML=summary; result.style.display='block';
  document.getElementById('orderForm').reset(); qtyInput.value=1; refreshUI();
});

function escapeHtml(text){ return String(text).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");}

// Quick contact button
document.getElementById('quickContact').addEventListener('click', ()=>{
  const waNumber="201093931681";
  const preset=encodeURIComponent("مرحبا! أريد الاستفسار عن كابل 4×1");
  window.open(`https://wa.me/${waNumber}?text=${preset}`,'_blank');
});

// ====== Chatbot UI (ردود جاهزة) ======
const chatToggle=document.getElementById('chatToggle');
const chatWindow=document.getElementById('chatWindow');
const chatBody=document.getElementById('chatBody');
const chatInput=document.getElementById('chatInput');
const sendChat=document.getElementById('sendChat');

chatToggle.addEventListener('click', ()=>{ chatWindow.style.display=(chatWindow.style.display==='flex')?'none':'flex'; });

const faq=[
  {patterns:["سعر","كم","ثمن"], reply: ()=>{ const q=Number(qtyInput.value)||1; return `السعر الحالي للكمية ${q}: ${calcPrice(q)} ج.`; }},
  {patterns:["توصيل","شحن","موعد"], reply:"التوصيل داخل المدينة عادة 1-3 أيام عمل. التوصيل مجاني لجميع المحافظات."},
  {patterns:["استرجاع","ارجاع","استبدال"], reply:"يمكنك التواصل معنا خلال 7 أيام من الاستلام مع السبب وصورة للمنتج."},
  {patterns:["طلب","اشتري","شراء"], reply:"يمكنك طلب المنتج من استمارة الطلب في الصفحة — الدفع عند الاستلام."},
  {patterns:["مواد","جودة","قوة","طول"], reply:"الكابل مصنوع من مواد متينة ومقاوم للتشابك، الطول مناسب للاستخدام اليومي."},
  {patterns:["سلام","اهلا","مرحبا"], reply:"أهلاً! أنا مساعد Trendolla — تقدر تسأل عن الأسعار، التوصيل، أو كيفية الطلب."},
  {patterns:["خصم","عرض"], reply:"لدينا خصومات خاصة عند طلب أكثر من قطعة — اتواصل معنا لمعرفة السعر حسب الكمية."},
  {patterns:["معاينة","استلام"], reply:"متاح معاينة المنتج عند الاستلام — هتقدر تشوفه قبل الدفع."},
  {patterns:["شكرا","متشكر","تسلم"], reply:"العفو! لو محتاج أي حاجة اسألني."}
];

function botReply(input){
  const s=input.toLowerCase().replace(/[^\w\u0600-\u06FF ]/g,'');
  for(const f of faq){
    for(const p of f.patterns){
      if(s.includes(p)) return (typeof f.reply==="function")?f.reply():f.reply;
    }
  }
  const genericReplies=["هل يمكنك توضيح السؤال أكثر؟","أنا هنا لمساعدتك في الأسعار والتوصيل والطلبات.","جرب أن تسأل عن الكمية أو السعر."];
  return genericReplies[Math.floor(Math.random()*genericReplies.length)];
}

sendChat.addEventListener('click', ()=>{
  const v=chatInput.value.trim(); if(!v) return;
  appendMessage(v,true); chatInput.value='';
  setTimeout(()=> appendMessage(botReply(v),false),500);
});

chatInput.addEventListener('keydown',(e)=>{ if(e.key==='Enter'){sendChat.click(); } });

function appendMessage(text, fromUser=false){
  const wrap=document.createElement('div');
  wrap.className=fromUser?'msg user':'msg';
  const bubble=document.createElement('div');
  bubble.className='bubble'+(fromUser?' user':'');
  bubble.innerText=text;
  wrap.appendChild(bubble);
  chatBody.appendChild(wrap);
  chatBody.scrollTop=chatBody.scrollHeight;
}
</script>
</body>
</html>
